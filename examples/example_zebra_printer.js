var printer = require("../lib")
	//, template = "N\nS4\nD15\nq400\nR\nB20,10,0,1,2,30,173,B,\"barcode\"\nP0\n";



var data = "^XA\r\n" +
"^SEE:GB18030.DAT\r\n" + 
"^CWJ,E:SIMSUN.FNT\r\n" + 
"^CFd0,10,18\r\n" +
"^PR12\r\n" +
"^LRY\r\n" +
"^MD30\r\n" +
"^PW" + this.labelWidth + "\r\n" +
"^LL" + this.labelHeight + "\r\n" +
"^PON\r\n";

var end = "^PQ1\r\n" +
			"^XZ\r\n";



var cn_start = '^XA^SEE:GB18030.DAT^CW1,E:SIMSUN.FNT';
var cn_end = '^XZ'
var content = "";

var cnCharSize  = 25;
var charSize  = 20;

function setCharR(str, x, y, cn) {
	if (cn) {
		content += "^CI14";
		content += "^FO" + x + "," + y + "^A1R," + cnCharSize + "," + cnCharSize + "^FD" + str + "^FS";
	} else {
		content += "^CI0";
		content += "^FO" + x + "," + y + "^A0R," + charSize + "," + charSize + "^FD" + str + "^FS";
	}

}

function getZPL(){
	return cn_start + content + cn_end
}

var test_cn = "^XA^CW1,E:SIMSUN.FNT^FS^FO50,30^A1N,24,24^CI17^F8^FD上海帝阳实业有限公司^FS^FO50,70^A1N,24,24^CI17^F8^FD汉字打印测试^FS^FO50,130^A0N,36,36^CI0^FDShanghai Diyang.^FS^BY3,3.0^FS^FO50,180^BEN,160,Y,N^FD690123456789^FS^PR3^PQ1^XZ"
var test2_cn = "^XA^SEE:GB18030.DAT^FS^CW1,E:SIMSUN.FNT^FS^FO50,30^A1N,24,24^CI26^FD上海帝阳实业有限公司123^FS^BY3,3.0^FS^FO50,180^BEN,160,Y,N^FD690123456789^FS^PR3^PQ1^XZ"
var test3_cn = '^XA^CI28^CWA,E:SIMSUN.FNT^FO10,30^AAN,36,36^FDa2中文字符^FS^XZ'
var test4_cn = '^XA^CI28^A@N,50,50^FO10,10^FDC1中文字符^FS^XZ'
var test_nb = '^XA~TA000~JSN^LT12^MNW^MTT^PON^PMN^LH0,0^JMA^PR3,3~SD20^JUS^LRN^CI0^XZ~DG000.GRF,03072,024,,:::::::::::::::::::::::::P080M0180020L020L02,P060I01C001C007C0K03C0K07C0I04,P020I0380H0E001C0K0380K0380I0E,P0780H01C0H07001C0K0380K071DHDHF,P0380H0180H020H0E0K0380K038018,P01C0H01C0H04700470J0380J047001C,P03820E3802AAFAHAF80I0380J0E30H08,P01071E1C011C0170L0380J0H7H01C,N02AHAF8C1800180060L03800E00E38018,Q0101C1C001C0070L03801F0067101C1C,Q03C0C3800182060400AHABAABF80E30EBEBE,Q03C1C1C001DF8FDF0J0380J0E31C1C1C,Q0380C18003830E0E0J0380J0E38C181C,O040701C1C003070C0C0J07C0J0671C1C1C,O060700C38003060C0C0J0380J0E30C080C,O010701C1C007071C1C0J07C0J0H71C1C1C,P08E00C1800606180C0J03E0J0E30C181C,P07C01C1C00E06701C0J0760J0671C1C1C,P03C00C3800C0E20180J0620J0E20C080C,P01C01C1C01DDCE1780J0730J0E71C1C1C,P03E00C180303880F80J0E380I0E20C181C,P07F01C1C060310070K0E1C0I0671C1C1C,P06380C380J0E020K0C0C0I0E60C080C,O01E1C1C1C0I01C010J01C1C0I0471C1C1C,O01C1E0C180J0C0380I038060J0E0C181C,O0180F001C00757F77C0I070070I01C1C1C7C,O0200E00380J0C0L0600380I08080838,O0F007001C0I01C0K01F001F0H01C001C10,O080J0180J0C0K01C0H0F0H0380018,N030J0H7C0I01C0060H070I07C0070H01C,N060K0F80J0C00E0H060I03F8060I08,U07005DHDFDDF801C0I01F00C0H01C,U020Q020M0180H01C,gM0140M010I014,,:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::^XA^MMT^PW354^LL0354^LS-34^FT64,160^XG000.GRF,1,1^FS^BY2,3,79^FT64,191^BCN,,Y,N^FD>;1256065060>66^FS^PQ1,0,1,Y^XZ^XA^ID000.GRF^FS^XZ'
var test_5 = '^XA^LL150^CI28^A@N,60,60,E:OSAKA.TTF^FO0,0^FH^FD_5F_E3_81_93_E3_82_8C_E3_81_AF_E4_BD_95_E3_81_A8_E8_A8_80_E3_81_A3_E3_81_A6_E3_81_84_E3_81_BE_E3_81_99^FS^XZ'

function printZebra(barcode_text, printer_name){

	 var final = data + barcode_text  +end;
	printer.printDirect({
		data:test_5
		, printer:printer_name
		, type: "RAW"
		, success:function(){
			console.log("printed: "+barcode_text);
		}
		, error:function(err){console.log(err);}
	});
}



printZebra("^FO-1,65^BY1^B3N,N,135N,N^FD3605794014256^FS^FO0,6^FD刘堃NB，gogogo^FS", "ZDesigner 105SL 300DPI");
